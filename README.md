# Torchvision Pretrained Model Timing in LibTorch
## Requirements
* C++: 11
* Dependencies: PyTorch

## Start
``` bash
mkdir build
cd build
cmake ..
make
./example
```
## Testing Environment
<table ><colgroup><col><col></colgroup><tbody><tr><th>CPU</th><td style="text-align: right;">Intel(R) Core(TM) i7-6700 CPU @ 3.40GHz</td></tr><tr><th>GPU</th><td style="text-align: right;">NVIDIA GeForce GTX 1060 6GB</td></tr><tr><th>RAM</th><td style="text-align: right;">Kingston 8GB DDR4 2400MHz</td></tr></tbody></table>
## Result
<table><colgroup><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><th>GPU</th><th colspan="5" style="text-align: center;">PyTorch (Python)</th><th colspan="5" style="text-align: center;">LibTorch (C++)</th></tr><tr><th>模型名称</th><th colspan="5" style="text-align: center;">Time (ms)</th><th colspan="5" style="text-align: center;">Time (ms)</th></tr><tr><th>Batch</th><th colspan="1" style="text-align: center;">1</th><th colspan="1" style="text-align: center;">2</th><th style="text-align: center;">4</th><th style="text-align: center;">8</th><th style="text-align: center;">16</th><th style="text-align: center;">1</th><th style="text-align: center;">2</th><th style="text-align: center;">4</th><th style="text-align: center;">8</th><th style="text-align: center;">16</th></tr><tr><td colspan="1">alexnet</td><td colspan="1" style="text-align: center;">5.320</td><td colspan="1" style="text-align: center;">8.349</td><td colspan="1" style="text-align: center;">14.469</td><td colspan="1" style="text-align: center;">26.179</td><td colspan="1" style="text-align: center;">50.134</td><td colspan="1" style="text-align: center;">3.138</td><td colspan="1" style="text-align: center;">3.237</td><td colspan="1" style="text-align: center;">4.087</td><td colspan="1" style="text-align: center;">6.012</td><td colspan="1" style="text-align: center;">9.324</td></tr><tr><td colspan="1">densenet121</td><td colspan="1" style="text-align: center;">59.988</td><td colspan="1" style="text-align: center;">63.327</td><td colspan="1" style="text-align: center;">69.216</td><td colspan="1" style="text-align: center;">80.655</td><td colspan="1" style="text-align: center;">104.200</td><td colspan="1" style="text-align: center;">46.535</td><td colspan="1" style="text-align: center;">46.602</td><td colspan="1" style="text-align: center;">47.006</td><td colspan="1" style="text-align: center;">47.704</td><td colspan="1" style="text-align: center;">65.472</td></tr><tr><td colspan="1">densenet161</td><td colspan="1" style="text-align: center;">79.459</td><td colspan="1" style="text-align: center;">81.508</td><td colspan="1" style="text-align: center;">87.538</td><td colspan="1" style="text-align: center;">99.672</td><td colspan="1" style="text-align: center;">149.085</td><td colspan="1" style="text-align: center;">61.547</td><td colspan="1" style="text-align: center;">61.739</td><td colspan="1" style="text-align: center;">62.275</td><td colspan="1" style="text-align: center;">81.329</td><td colspan="1" style="text-align: center;">146.564</td></tr><tr><td colspan="1">densenet169</td><td colspan="1" style="text-align: center;">82.338</td><td colspan="1" style="text-align: center;">84.992</td><td colspan="1" style="text-align: center;">90.680</td><td colspan="1" style="text-align: center;">102.365</td><td colspan="1" style="text-align: center;">126.462</td><td colspan="1" style="text-align: center;">64.739</td><td colspan="1" style="text-align: center;">64.934</td><td colspan="1" style="text-align: center;">64.927</td><td colspan="1" style="text-align: center;">65.589</td><td colspan="1" style="text-align: center;">82.008</td></tr><tr><td colspan="1">densenet201</td><td colspan="1" style="text-align: center;">97.945</td><td colspan="1" style="text-align: center;">99.938</td><td colspan="1" style="text-align: center;">106.923</td><td colspan="1" style="text-align: center;">118.168</td><td colspan="1" style="text-align: center;">142.884</td><td colspan="1" style="text-align: center;">76.477</td><td colspan="1" style="text-align: center;">76.889</td><td colspan="1" style="text-align: center;">77.149</td><td colspan="1" style="text-align: center;">78.089</td><td colspan="1" style="text-align: center;">107.018</td></tr><tr><td colspan="1">inception_v3</td><td colspan="1" style="text-align: center;">46.766</td><td colspan="1" style="text-align: center;">51.840</td><td colspan="1" style="text-align: center;">62.191</td><td colspan="1" style="text-align: center;">82.874</td><td colspan="1" style="text-align: center;">124.959</td><td colspan="1" style="text-align: center;">33.965</td><td colspan="1" style="text-align: center;">34.173</td><td colspan="1" style="text-align: center;">34.768</td><td colspan="1" style="text-align: center;">46.792</td><td colspan="1" style="text-align: center;">86.027</td></tr><tr><td colspan="1">resnet101</td><td colspan="1" style="text-align: center;">47.588</td><td colspan="1" style="text-align: center;">50.593</td><td colspan="1" style="text-align: center;">56.338</td><td colspan="1" style="text-align: center;">69.016</td><td colspan="1" style="text-align: center;">106.475</td><td colspan="1" style="text-align: center;">35.760</td><td colspan="1" style="text-align: center;">35.803</td><td colspan="1" style="text-align: center;">36.179</td><td colspan="1" style="text-align: center;">56.609</td><td colspan="1" style="text-align: center;">104.667</td></tr><tr><td colspan="1">resnet152</td><td colspan="1" style="text-align: center;">70.053</td><td colspan="1" style="text-align: center;">73.463</td><td colspan="1" style="text-align: center;">78.998</td><td colspan="1" style="text-align: center;">90.923</td><td colspan="1" style="text-align: center;">150.769</td><td colspan="1" style="text-align: center;">54.271</td><td colspan="1" style="text-align: center;">53.670</td><td colspan="1" style="text-align: center;">53.360</td><td colspan="1" style="text-align: center;">80.631</td><td colspan="1" style="text-align: center;">148.811</td></tr><tr><td colspan="1">resnet18</td><td colspan="1" style="text-align: center;">12.072</td><td colspan="1" style="text-align: center;">15.021</td><td colspan="1" style="text-align: center;">20.987</td><td colspan="1" style="text-align: center;">32.985</td><td colspan="1" style="text-align: center;">56.775</td><td colspan="1" style="text-align: center;">7.480</td><td colspan="1" style="text-align: center;">7.531</td><td colspan="1" style="text-align: center;">7.863</td><td colspan="1" style="text-align: center;">12.152</td><td colspan="1" style="text-align: center;">21.303</td></tr><tr><td colspan="1">resnet34</td><td colspan="1" style="text-align: center;">19.058</td><td colspan="1" style="text-align: center;">22.214</td><td colspan="1" style="text-align: center;">28.248</td><td colspan="1" style="text-align: center;">40.206</td><td colspan="1" style="text-align: center;">64.043</td><td colspan="1" style="text-align: center;">13.201</td><td colspan="1" style="text-align: center;">13.310</td><td colspan="1" style="text-align: center;">13.922</td><td colspan="1" style="text-align: center;">20.520</td><td colspan="1" style="text-align: center;">36.320</td></tr><tr><td colspan="1">resnet50</td><td colspan="1" style="text-align: center;">25.746</td><td colspan="1" style="text-align: center;">28.705</td><td colspan="1" style="text-align: center;">34.718</td><td colspan="1" style="text-align: center;">46.844</td><td colspan="1" style="text-align: center;">70.123</td><td colspan="1" style="text-align: center;">18.253</td><td colspan="1" style="text-align: center;">18.413</td><td colspan="1" style="text-align: center;">18.689</td><td colspan="1" style="text-align: center;">34.029</td><td colspan="1" style="text-align: center;">63.197</td></tr><tr><td colspan="1">squeezenet1_0</td><td colspan="1" style="text-align: center;">11.862</td><td colspan="1" style="text-align: center;">14.748</td><td colspan="1" style="text-align: center;">20.633</td><td colspan="1" style="text-align: center;">32.515</td><td colspan="1" style="text-align: center;">55.625</td><td colspan="1" style="text-align: center;">7.464</td><td colspan="1" style="text-align: center;">7.708</td><td colspan="1" style="text-align: center;">8.021</td><td colspan="1" style="text-align: center;">12.367</td><td colspan="1" style="text-align: center;">24.186</td></tr><tr><td colspan="1">squeezenet1_1</td><td colspan="1" style="text-align: center;">11.727</td><td colspan="1" style="text-align: center;">14.518</td><td colspan="1" style="text-align: center;">20.416</td><td colspan="1" style="text-align: center;">32.581</td><td colspan="1" style="text-align: center;">55.926</td><td colspan="1" style="text-align: center;">7.521</td><td colspan="1" style="text-align: center;">7.865</td><td colspan="1" style="text-align: center;">8.335</td><td colspan="1" style="text-align: center;">8.618</td><td colspan="1" style="text-align: center;">14.446</td></tr><tr><td colspan="1">vgg11</td><td colspan="1" style="text-align: center;">8.424</td><td colspan="1" style="text-align: center;">20.391</td><td colspan="1" style="text-align: center;">28.081</td><td colspan="1" style="text-align: center;">36.451</td><td colspan="1" style="text-align: center;">69.012</td><td colspan="1" style="text-align: center;">8.288</td><td colspan="1" style="text-align: center;">19.973</td><td colspan="1" style="text-align: center;">27.435</td><td colspan="1" style="text-align: center;">35.302</td><td colspan="1" style="text-align: center;">66.006</td></tr><tr><td colspan="1">vgg11_bn</td><td colspan="1" style="text-align: center;">8.846</td><td colspan="1" style="text-align: center;">21.298</td><td colspan="1" style="text-align: center;">29.732</td><td colspan="1" style="text-align: center;">39.689</td><td colspan="1" style="text-align: center;">75.250</td><td colspan="1" style="text-align: center;">8.778</td><td colspan="1" style="text-align: center;">20.727</td><td colspan="1" style="text-align: center;">29.052</td><td colspan="1" style="text-align: center;">38.433</td><td colspan="1" style="text-align: center;">72.328</td></tr><tr><td colspan="1">vgg13</td><td colspan="1" style="text-align: center;">10.142</td><td colspan="1" style="text-align: center;">23.770</td><td colspan="1" style="text-align: center;">34.989</td><td colspan="1" style="text-align: center;">50.403</td><td colspan="1" style="text-align: center;">96.947</td><td colspan="1" style="text-align: center;">9.963</td><td colspan="1" style="text-align: center;">23.158</td><td colspan="1" style="text-align: center;">33.782</td><td colspan="1" style="text-align: center;">48.138</td><td colspan="1" style="text-align: center;">91.850</td></tr><tr><td colspan="1">vgg13_bn</td><td colspan="1" style="text-align: center;">10.809</td><td colspan="1" style="text-align: center;">25.181</td><td colspan="1" style="text-align: center;">37.517</td><td colspan="1" style="text-align: center;">55.546</td><td colspan="1" style="text-align: center;">107.158</td><td colspan="1" style="text-align: center;">10.748</td><td colspan="1" style="text-align: center;">24.624</td><td colspan="1" style="text-align: center;">36.640</td><td colspan="1" style="text-align: center;">53.822</td><td colspan="1" style="text-align: center;">102.673</td></tr><tr><td colspan="1">vgg16</td><td colspan="1" style="text-align: center;">12.429</td><td colspan="1" style="text-align: center;">27.534</td><td colspan="1" style="text-align: center;">41.851</td><td colspan="1" style="text-align: center;">63.994</td><td colspan="1" style="text-align: center;">123.601</td><td colspan="1" style="text-align: center;">12.145</td><td colspan="1" style="text-align: center;">26.812</td><td colspan="1" style="text-align: center;">40.626</td><td colspan="1" style="text-align: center;">61.660</td><td colspan="1" style="text-align: center;">118.377</td></tr><tr><td colspan="1">vgg16_bn</td><td colspan="1" style="text-align: center;">13.296</td><td colspan="1" style="text-align: center;">29.116</td><td colspan="1" style="text-align: center;">44.838</td><td colspan="1" style="text-align: center;">69.815</td><td colspan="1" style="text-align: center;">135.181</td><td colspan="1" style="text-align: center;">12.983</td><td colspan="1" style="text-align: center;">28.338</td><td colspan="1" style="text-align: center;">43.438</td><td colspan="1" style="text-align: center;">67.187</td><td colspan="1" style="text-align: center;">129.421</td></tr><tr><td colspan="1">vgg19</td><td colspan="1" style="text-align: center;">14.578</td><td colspan="1" style="text-align: center;">31.365</td><td colspan="1" style="text-align: center;">49.069</td><td colspan="1" style="text-align: center;">77.737</td><td colspan="1" style="text-align: center;">150.261</td><td colspan="1" style="text-align: center;">14.368</td><td colspan="1" style="text-align: center;">30.458</td><td colspan="1" style="text-align: center;">47.582</td><td colspan="1" style="text-align: center;">74.643</td><td colspan="1" style="text-align: center;">144.122</td></tr><tr><td colspan="1">vgg19_bn</td><td colspan="1" style="text-align: center;">15.579</td><td colspan="1" style="text-align: center;">33.017</td><td colspan="1" style="text-align: center;">52.124</td><td colspan="1" style="text-align: center;">83.661</td><td colspan="1" style="text-align: center;">162.715</td><td colspan="1" style="text-align: center;">15.226</td><td colspan="1" style="text-align: center;">32.115</td><td colspan="1" style="text-align: center;">50.368</td><td colspan="1" style="text-align: center;">80.975</td><td colspan="1" style="text-align: center;">157.384</td></tr></tbody></table>
